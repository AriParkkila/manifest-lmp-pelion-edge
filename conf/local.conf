
# CONF_VERSION is increased each time build/conf/ changes incompatibly
CONF_VERSION = "1"

# Which files do we want to parse:
BBMASK = ""

# Don't generate the mirror tarball for SCM repos, the snapshot is enough
BB_GENERATE_MIRROR_TARBALLS = "0"

# Disable build time patch resolution. This would lauch a devshell
# and wait for manual intervention. We disable it.
PATCHRESOLVE = "noop"

#
# Parallelism Options
#
# These two options control how much parallelism BitBake should use. The first
# option determines how many tasks bitbake should run in parallel:
# Default to setting automatically based on cpu count
BB_NUMBER_THREADS ?= "${@oe.utils.cpu_count()}"
#
# The second option controls how many processes make should run in parallel when
# running compile tasks:
# Default to setting automatically based on cpu count
PARALLEL_MAKE ?= "-j ${@oe.utils.cpu_count()}"

#
# Shared-state files from other locations
#
# Shared state files are prebuilt cache data objects which can
# used to accelerate build time. This variable can be used to configure the system
# to search other mirror locations for these objects before it builds the data itself.
#
# This can be a filesystem directory, or a remote url such as http or ftp. These
# would contain the sstate-cache results from previous builds (possibly from other
# machines). This variable works like fetcher MIRRORS/PREMIRRORS and points to the
# cache locations to check for the shared objects.
SSTATE_MIRRORS ?= "\
file://.* https://lmp-mirror.foundries.io/sstate-cache/PATH \n \
"

# enable PR service on build machine itself
# its good for a case when this is the only builder
# generating the feeds
#PRSERV_HOST = "localhost:0"

# OSF LMP specific configuration

# Beaglebone
IMAGE_FSTYPES_append_beaglebone = " wic.gz"
IMAGE_FSTYPES_remove_beaglebone = " wic"

# Dragonboard (DB410/DB820)
QCOM_BOOTIMG_ROOTFS_dragonboard-820c = "sda9"

# HiKey
CMDLINE_remove_hikey = "quiet"

# Raspberry Pi
VC4DTBO_raspberrypi3-64 = "vc4-kms-v3d"
RPI_USE_U_BOOT = "1"
IMAGE_FSTYPES_append_rpi = " ext4.gz wic.gz wic.bmap"
WKS_FILE_rpi = "raspberrypi.wks"
IMAGE_FSTYPES_remove_rpi += " ext3 rpi-sdimg"

# Intel
IMAGE_FSTYPES_append_intel-corei7-64 = " ext4.gz wic.gz"
IMAGE_FSTYPES_remove_intel-corei7-64 = " ext4 wic"

# Cross machines / BSPs
## Drop IMX BSP that is not needed
MACHINE_EXTRA_RRECOMMENDS_remove = "imx-alsa-plugins"
